(()=>{"use strict";function e(e){e.target.closest(".card").remove()}function t(e){e.target.classList.toggle("card__button-like_active")}function n(e){e.classList.add("popup_open"),document.addEventListener("keydown",o),document.addEventListener("click",c)}function r(e){e.classList.remove("popup_open"),document.removeEventListener("keydown",o),document.removeEventListener("click",c)}function o(e){"Escape"===e.key&&r(document.querySelector(".popup_open"))}function c(e){e.target.classList.contains("popup_open")&&r(e.target)}var u=document.querySelector(".cards-grid"),a=document.querySelector(".profile__title"),d=document.querySelector(".profile__subtitle"),i=document.querySelector(".profile__add-button"),l=document.querySelector(".profile__edit-button"),p=document.querySelectorAll(".popup"),s=document.querySelector("#popup-card"),m=s.querySelector("#form-card"),f=m.querySelector(".form__input-card-title"),v=m.querySelector(".form__input-card-link"),y=document.querySelector("#popup-edit"),_=y.querySelector("#form-edit"),k=_.querySelector("#edit-name-input"),q=_.querySelector("#edit-work-input"),S=document.querySelector("#popup_image"),g=S.querySelector(".popup__image-full"),L=S.querySelector(".popup__image-title");function E(e){g.src=e.link,g.alt=e.name,L.textContent=e.name,n(S)}function b(n,r){return n.prepend(function(e,t,n,r){var o=document.querySelector("#card-template").content.cloneNode(!0),c=o.querySelector(".card__image"),u=o.querySelector(".card__title"),a=o.querySelector(".card__button-delete"),d=o.querySelector(".card__button-like");return c.src=e.link,c.alt=e.name,u.textContent=e.name,c.addEventListener("click",(function(){return t(e)})),a.addEventListener("click",n),d.addEventListener("click",r),o}(r,E,e,t))}p.forEach((function(e){e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_open")&&r(e),t.target.classList.contains("popup__button-close")&&r(e)}))})),_.addEventListener("submit",(function(e){e.preventDefault(),a.textContent=k.value,d.textContent=q.value,r(y)})),m.addEventListener("submit",(function(e){e.preventDefault();var t={name:f.value,link:v.value};b(u,t),r(s),e.target.reset()})),i.addEventListener("click",(function(){n(s)})),l.addEventListener("click",(function(e){e.preventDefault(),k.value=a.textContent,q.value=d.textContent,n(y)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return b(u,e)}))})();